<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"> 
<html>
    <head>
         <meta name="author" content="Rick Reumann"/>
<meta name="keywords" content="maven, maven2, JPA, JBoss5, JBoss4, Testng, stripes, grails, extjs, jquery,
ejb, ejb 2.1, ejb3, EJB, EJB3, jboss, stateless, stateful, local, remote, tutorial, tutorials, struts tutorials, webwork tutorials, webwork, web work, struts action, Ajax, Wicket, CRUD,
web services, struts, apache, jsf, ibatis, spring, 
lessons, tutorials, JSP, J2EE, JSTL, C#, .NET, Action, Forward, Token, Validate,
Messages, Errors, Dyna, Validation, DynaForm, ActionForm, Dispatch, DispatchAction, Redirect, Tags"/> 
<meta name="description" content="Information Technology"/>
         	
        <title>Struts2 CRUD Hibernate</title>  
	<link rel="stylesheet" href="/css/learntechnology.css" type="text/css" media="screen" /> 
	<script type="text/javascript">

	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-36634377-1']);
	  _gaq.push(['_trackPageview']);

	  (function() {
	    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();

	</script>
    </head>	
    <body>
     
	<table width="100%">
	    <tr>
			<td style="text-align:left;vertical-align:top;" width="*">
				<div  id="header" style="cursor: pointer;" onclick="location.href='http://www.learntechnology.net/';">
					<div id="logo">
						<h1>learntechnology.net</h1>
						<h2>simplifying information technology</h2>
					</div>
				</div>
			</td> 
	    </tr>	
	</table>
    
	<table width="100%">
		<tr> 
			<td class="col1"> 
			<div id="navcontainer">
        <div id="linkscontainer" style="padding-top:15px;"> 
                <a href="http://www.learntechnology.net">MAIN</a>
                <br/>
                <br/>
                <b>ZK</b>
                <br/>
                <a href="/2012/11/12/page_large_results.html">Page and Sort Large Results</a>
                <br/>
                <br/>
                <b>Stripes</b>
                <br/>
                <a href="/2007/09/22/Stripes_CRUD.html">Stripes CRUD</a>
                <br/>
                <a href="/2008/01/05/stripes-crud-groovy.html">Stripes CRUD Groovy</a>
                <br/>
                <br/>
                <b>Grails</b>
                <br/>
                <a href="/2007/12/08/grails_part1.html">Grails CRUD</a>
                <br/>
                <br/>
                <b>Struts 2</b>
                <br/>
                <a href="/2007/11/26/struts2_crud.html">Struts2 CRUD</a>
                <br/>
                <a href="/2007/12/09/struts2_hibernate.html">Struts2 Hibernate</a>
                <br/>
                <a href="/2008/07/17/struts2_hibernate_pico.html">Struts2 PicoContainer w/ Hibernate</a>
                <br/>
                <br/>
                <b>EJB 3</b>
                <br/>
                <a href="/2008/10/12/maven-ejb3.html">Maven-EJB3-JPA (JBoss5)</a>
                <br/>
                <a href="/2007/04/26/ejb3_local.html">EJB3 - JBoss/Stateless</a>
                <br/>
                <a href="/2007/06/10/jms_jboss_ejb3.html">JMS (JBoss/EJB3 with MDB)</a>
                <br/>
                <br/>
                <b>JavaFX</b>
                <br/>
                <a href="/2009/02/21/javafx.html">JavaFX CRUD</a>
                <br/>
                <br/>
                <b>Web Services</b>
                <br/>
                <a href="${appcontext}/content/webservices/jboss_webservices.jsp">JBoss Web Service (JAX-WS,Axis2)</a>
                <br/>
                <br/>
                <b>EJB 2.1</b>
                <br/>
                <a href="${appcontext}/content/jms/jms_jboss1.jsp">JMS (JBoss with MDB)</a>
                <br/>
                <a href="${appcontext}/content/ejb/ejb2_1.jsp">EJB 2.1 (Local)</a>
                <br/>
                <a href="${appcontext}/content/ejb/ejb2_1_remote.jsp">EJB 2.1 (Remote)</a>
                <br/>
                <br/>
                <b>JMS</b>
                <br/>
                <a href="${appcontext}/content/jms/jms_jboss1.jsp">JMS (JBoss with MDB-EJB2.1)</a>
                <br/>
                <a href="${appcontext}/content/jms/jms_jboss_ejb3.jsp">JMS (JBoss/EJB3 with MDB)</a>
                <br/>
                <br/>
                <b>Patterns</b>
                <br/>
                <a href="${appcontext}/content/patterns/visitor-pattern.jsp">Visitor Pattern</a>
                <br/>
                <br/>
                <b>Ajax</b>
                <br/>
                <a href="/2007/07/15/jquery_options.html">JQuery - Select alters other select</a>
                <br/>
                <a href="#">File Upload with Progress Bar</a>
                <br/>
                <a href="#">Mutiple select alters many</a>
                <br/>
                <br/>
                <b>iBATIS</b>
                <br/>
                <a href="${appcontext}/content/ibatis/ibatis_lesson1.jsp">iBATIS Lesson 1</a>
                <br/>
                <a href="${appcontext}/content/ibatis/spring_ibatis.jsp">Struts-Spring-iBATIS</a>
                <br/>
                <br/>
                <b>JSF</b>
                <br/>
                <a href="${appcontext}/content/jsf/jsf_crud.jsp">JSF CRUD</a>
                <br/>
                <br/>
                <b>JSTL</b>
                <br/>
                <a href="${appcontext}/content/jstl/jstl_intro.jsp">Introduction to JSTL</a>
                <br/>
                <br/>
                <b>SiteMesh</b>
                <br/>
                <a href="${appcontext}/content/sitemesh/sitemesh.jsp">SiteMesh (instead of Tiles)</a>
                <br/>
                <br/>
                <b>Struts 1.x</b>
                <br/>
                <a href="${appcontext}/content/struts/struts_lesson1.jsp">Lesson 1</a>
                <br/>
                <a href="${appcontext}/content/struts/struts_lesson2.jsp">Lesson 2</a>
                <br/>
                <a href="${appcontext}/content/struts/struts_lesson3.jsp">Lesson 3</a>
                <br/>
                <a href="${appcontext}/content/struts/struts_crud.jsp">Struts CRUD</a>
                <br/>
                <a href="${appcontext}/content/struts/struts_token.jsp">Strus using Token</a>
                <br/>
                <a href="${appcontext}/content/struts/struts_nested.jsp">Using Nested tag</a>
                <br/>
                <a href="${appcontext}/content/struts/validate_manually.jsp">Call validation manually</a>
                <br/>
                <a href="${appcontext}/content/struts/message_resources.jsp">Using Message Resources</a>
                <br/>
                <br/>
                <b>WebWork</b>
                <br/>
                <a href="${appcontext}/content/webwork/webwork_crud_p.jsp">WebWork CRUD (Phil)</a>
                <br/>
                <a href="${appcontext}/content/webwork/webwork_crud_lm.jsp">WebWork CRUD (Larry)</a>
                <br/>
                <br/>
                <b>Wicket</b>
                <br/>
                <a href="${appcontext}/content/wicket/wicket_crud.jsp">Wicket CRUD</a>
                <br/>
                <a href="${appcontext}/content/wicket/wicket_ibatis.jsp">Wicket using iBATIS</a>
                <br/>
                <br/>
                <br/>
                <b>Other</b>
                <br/>
                <a href="${appcontext}/content/misc/aop_oldskool.jsp">AOP - Old Skool
                <br/>
                <br/>
                <hr style="height:2px;border:0;background-color:#D1E5A6;margin-left:15px;padding-right:15px;"/>
                <br/>
                <a href="${appcontext}/content/misc/resources.jsp">RESOURCES</a>
                <br/>
                <br/>
                Contact: <a href="mailto:rick@learntechnology.net">rick@learntechnology.net</a>
                <br/>
        </div> 
</div> 

 
			</td>
			
			<td class="col2" width="*"> 
			 <div id="article">
  	<div class="pageTitle">Struts2 CRUD Hibernate - 12.09.2007</div>
  	<div class="post-content">
		<DIV class="author">Code and Lesson - <a href="mailto:myf1228@sina.com">Andy Ma</a></DIV>
<br/>
<a href=" struts2-hibernate.zip">struts2-hibernate source code</a><br/>
<a href=" struts2-hibernate.war">struts2-hibernate.war</a><br/>
  <br/>
 <div class="sectionHeading">Introduction</div>
<div class="section">
Hibernate is a popular and powerful ORM(Object Relational Mapping) Framework. When you
dealing with the database programming, it can significantly speed up your
productivity and simplify the procedure of development. In this application I will show you how struts2 and hibernate3 work together and how simple it is to add hibernate to our struts2crud project.  </div>
<DIV class=sectionHeading>Requirements</DIV>
      <DIV class=section>This application requires an application server that 
      implements the Servlet 2.4 and JavaServer Pages 2.0 specifications. The 
      example has been tested on Tomcat 5.x and Tomcat 6.0</DIV>
<div class="sectionHeading">Database Setup</div>
<div class="section">
We use MySQL5 as our database in this application. Be sure you've installed the correct version of MySQL and it is running before you create our example database.
<br/><br/>
Creating example database and loading sample data
<ol>
	<li>download the source file of our application </li>
	<li>unzip into directory of choice</li>
	<li>find the xdb.sql file under a folder named db_build</li>
	<li>copy xdb.sql to your partation c:</li>
	<li>run your MySQL Command Line Client.</li>
	<li>after entering your password, you should see a prompt line "mysql&gt;"<br>
	    then input the following command and run it:<br>
	    \.&nbsp;&nbsp;c:/xdb.sql</li>   
	</ol>
The last step should create the schema and load data we need.
    <br/><br/>
    <span style="color:red;">Important: </span>Remember that replaces to your own MySQL database username and password of the hibernate.cfg.xml file. You can find the hibernate.cfg.xml under \web-inf\classes after Tomcat unpack the war file. I highlight them below on the hibernate.cfg.xml. Unless you've done this,the hibernate won't work properly. 
    <br/><br/>
</div>
 <DIV class=sectionHeading>hibernate.cfg.xml</DIV>
      <DIV class=section><PRE class=decorated><CODE>
&lt;?xml version='1.0' encoding='utf-8'?&gt;
&lt;!DOCTYPE hibernate-configuration PUBLIC
  "-//Hibernate/Hibernate Configuration DTD//EN"
  "http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd"&gt;
&lt;hibernate-configuration&gt;
     &lt;session-factory&gt;
     	&lt;property name="connection.useUnicode"&gt;true&lt;/property&gt; 
        &lt;property name="connection.characterEncoding"&gt;UTF-8&lt;/property&gt;
        &lt;property name="connection.driver_class"&gt;com.mysql.jdbc.Driver&lt;/property&gt;
        &lt;property name="connection.url"&gt;jdbc:mysql://localhost:3306/xdb&lt;/property&gt;
        &lt;property name="connection.username"&gt;<span style="color:red;">Your User Name</span>&lt;/property&gt;
        &lt;property name="connection.password"&gt;<span style="color:red;">Your Password</span>&lt;/property&gt;
        &lt;propertyname="dialect"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;
        &lt;property name="current_session_context_class"&gt;thread&lt;/property&gt;
        &lt;propertyname="hibernate.transaction.factory_class"&gt;
                 org.hibernate.transaction.JDBCTransactionFactory&lt;/property&gt;     
        &lt;mapping resource="net/learntechnology/struts2demo/vo/Department.hbm.xml"/&gt;
        &lt;mapping resource="net/learntechnology/struts2demo/vo/Employee.hbm.xml"/&gt;
      &lt;/session-factory&gt;
&lt;/hibernate-configuration&gt;
</CODE></PRE>
<div>(Rest of lesson coming soon. For a sample Strut2 CRUD application without using hibernate see my <a href="/2007/11/26/struts2_crud.html">Struts2 CRUD</a> lesson.)</div>
<br/>
<DIV class="author">Code and Lesson - Andy Ma</DIV>

  	</div> 
</div>

			</td>
		     
			<td class="col3">
                    <script type="text/javascript"><!--
google_ad_client = "pub-5778873356056544";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_ad_type = "text";
google_ad_channel ="";
google_color_border = "D1E5A6";
google_color_bg = "F8FBF2";
google_color_link = "996600";
google_color_url = "008000";
google_color_text = "6F6F6F";
//--></script>
<script type="text/javascript"
  src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<br/><br/>
<script type="text/javascript"><!--
google_ad_client = "pub-5778873356056544";
google_ad_width = 120;
google_ad_height = 60;
google_ad_format = "120x60_as_rimg";
google_cpa_choice = "CAAQxZqazgEaCMOiwb9yonQWKIHD93M";
//--></script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
			</td> 
		</tr>
	</table>

	</body>
</html>